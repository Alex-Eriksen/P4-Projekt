<div class="w-100 h-100 text-white position-relative" *ngIf="chatOpen">
  <div class="d-flex flex-row" >
    <div class="flex-grow-1 border border-3 border-primary bg-primary d-flex">
      <i class="fa-solid fa-circle text-danger px-2 align-self-end pb-2"></i>
      <span class="fs-4 lh-1 align-self-center">{{playerName}}</span>
    </div>
    <div class="pb-1 ps-1 border-3 border-bottom border-primary minimize-background">
      <button class="btn btn-primary rounded-0 p-1" (click)="toggleChat()"><i class="fa-solid fa-minus"></i></button>
    </div>
  </div>
  <div class="fill-height border border-3 border-primary">
    <div class="w-100 h-100">
      <div class="w-100 p-2 bg-primary">
        <input type="text" id="searchFriend" class="w-100 border-0 outline-0 text-white shadow">
      </div>
      <div class="w-100 text-start ps-2 bg-primary">FRIENDS LIST</div>
      <div class="d-flex flex-column gap-1 p-1 bg-dark chat-tab" *ngIf="chatTab=='chat'"> <!-- Chat TAB -->
        <div class="w-100 p-1 rounded d-flex flex-row gap-1 position-relative friend-gradient cursor-pointer" *ngFor="let friend of friendships">
          <img [src]="friend.friendPlayer.playerImage" alt="" width="48" height="48">
          <div class="d-flex flex-column flex-grow-1">
            <span>{{friend.friendPlayer.playerName}}</span>
            <span [ngClass]="{'text-danger': friend.friendPlayer.playerStatus === 'Offline', 'text-warning' : friend.friendPlayer.playerStatus === 'Away', 'text-success': friend.friendPlayer.playerStatus === 'Online' }">{{friend.friendPlayer.playerStatus}}</span>
          </div>
          <i class="fa-solid fa-circle position-absolute" id="statusBtn" [ngClass]="{'text-danger': friend.friendPlayer.playerStatus === 'Offline', 'text-warning' : friend.friendPlayer.playerStatus === 'Away', 'text-success': friend.friendPlayer.playerStatus === 'Online' }"></i>
        </div>
      </div>
      <div class="d-flex flex-column gap-1 p-1 bg-dark chat-tab" *ngIf="chatTab=='friends'"> <!-- Friend TAB -->
        <div class="w-100 p-1 rounded d-flex flex-row gap-1 position-relative friend-gradient" *ngFor="let friend of friendships">
          <img [src]="friend.friendPlayer.playerImage" alt="" width="48" height="48">
          <div class="d-flex flex-column flex-grow-1">
            <span>{{friend.friendPlayer.playerName}}</span>
          </div>
          <button class="btn btn-primary"><i class="fa-solid fa-envelope"></i></button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="position-fixed chat-btn-container">
  <div class="d-flex flex-row p-0 h-100 gap-1">
    <button class="btn btn-primary p-0 h-100 w-100 rounded-0 border border-3 border-primary" (click)="toggleChat('chat')">Chat</button>
    <button class="btn btn-primary p-0 h-100 w-100 rounded-0 border border-3 border-primary" (click)="toggleChat('friends')">Friends</button>
  </div>
</div>
